## Анализ использования API 
В процессе интеграции с партнером, по запросу аккаунт-менеджера, команда интеграций установила лимиты для следующих методов API:
/api/b2b/v3/search/serp/region/ (поиск отелей по идентификатору региона) — 300 запросов в минуту (rpm).
/api/b2b/v3/search/serp/hotels/ (поиск отелей по идентификатору отелей) — 500 запросов в минуту (rpm).
Однажды партнер запустил на своем сайте промо-акцию с большими скидками на отели в Краснодарском крае, что привело к значительному увеличению количества пользователей, ищущих отели по данному направлению. В период промо-акции наблюдался пик — 487 запросов в минуту.
Проанализируй ситуацию и ответь на вопросы:

Какой из указанных методов API, использовал партнер в данном сценарии?  
Будет ли превышен установленный лимит для этого метода?
Если лимит будет превышен, какую ошибку вернет метод?

---

### Мой ответ

_**1. Какой метод API использовал партнёр?**_  
В сценарии указано, что промо-акция проводилась на отели в Краснодарском крае, а это конкретный географический регион.
*   **`/api/b2b/v3/search/serp/region/`** предназначен для поиска отелей по **идентификатору региона**. Это логичный метод для сценария, когда пользователи ищут все отели в рамках заданного региона (в данном случае — Краснодарский край).
*   **`/api/b2b/v3/search/serp/hotels/`** используется для поиска по **конкретным идентификаторам отелей**. Этот метод не подходит для сценария поиска "по направлению", так как требует заранее известного списка ID отелей.

Получается, Партнёр использовал метод `/api/b2b/v3/search/serp/region/`.

_**2. Будет ли превышен установленный лимит?**_    
Да, лимит будет превышен.

*   Установленный лимит для метода `/region/`: 300 запросов в минуту (RPM).
*   Зафиксированный пик нагрузки во время акции: 487 RPM.


**3. Какую ошибку вернёт метод?**  
Стандартной и ожидаемой реакцией REST API при превышении лимита запросов является возврат HTTP статус-кода `429 Too Many Requests`.


Возможные Рекомендации для Партнёра:
1) Оценить необходимость увеличения лимита. Стоит проанализировать график нагрузки Партнёра. Если пики в +-500 RPM не редкость, тогда имеет смысл обсудить увеличение лимита.
2) Настроить мониторинг и оповещения. Можно порекомендовать настроить оповещение при достижении, например, 80% от лимита (240 RPM), чтобы заранее реагировать на рост нагрузки.
