## Кейс 1
_"Партнёр хочет начать процесс бронирование, вызывает метод Booking Form, но создать заказ не удаётся:_   
```
Data in:  
{  
  "book_hash": "h-c8833e24-1d3c-56ba-85a4-ca873e31f6fe",  
  "language": "ru",  
  "partner_order_id": "446245587863",  
  "user_ip": "00.111.0.1"  
}  
Data out:  
{  
  "data": null,  
  "debug": null,  
  "error": "sandbox_restriction",  
  "status": "error"  
}
```

Что ответим партнёру? 

---

### Мой ответ

Представим, что я пишу письмо Партнёру:

---

_Тема: Ошибка «sandbox_restriction» при вызове Booking Form_

_Здравствуйте!_

_Благодарим за обращение. Мы разобрали ваш запрос. Ошибка «sandbox_restriction» указывает на конфликт между окружениями._

_Скорее всего, хэш бронирования (`book_hash: h-c8833e24-...`) был получен в одном окружении (например, Production для реальных отелей), а запрос на создание заказа отправлен в другое (например, Sandbox для тестирования). Наша система безопасности блокирует такие смешанные запросы._

_**Решение:**_  
_1.  Убедитесь, что все вызовы API в рамках одного потока бронирования идут на один базовый URL: либо на `https://sandbox.emergingtravel.com` (для тестов), либо на `https://api.emergingtravel.com` (для рабочих данных)._  
_2.  Проверьте, что ID отеля, с которым работаете, есть в [списке тестовых отелей Sandbox](https://docs.emergingtravel.com/docs/fundamentals/sandbox/). Бронировать в Sandbox можно только их._

_Если проблема сохранится, пришлите, пожалуйста, полный лог запроса, включая заголовки._

_С уважением,
Команда поддержки Ostrovok._
